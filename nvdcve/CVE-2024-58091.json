{
  "id": "CVE-2024-58091",
  "sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
  "published": "2025-03-27T15:15:54.237",
  "lastModified": "2025-07-06T10:15:23.140",
  "vulnStatus": "Undergoing Analysis",
  "cveTags": [],
  "descriptions": [
    {
      "lang": "en",
      "value": "In the Linux kernel, the following vulnerability has been resolved:\n\ndrm/fbdev-dma: Add shadow buffering for deferred I/O\n\nDMA areas are not necessarily backed by struct page, so we cannot\nrely on it for deferred I/O. Allocate a shadow buffer for drivers\nthat require deferred I/O and use it as framebuffer memory.\n\nFixes driver errors about being \"Unable to handle kernel NULL pointer\ndereference at virtual address\" or \"Unable to handle kernel paging\nrequest at virtual address\".\n\nThe patch splits drm_fbdev_dma_driver_fbdev_probe() in an initial\nallocation, which creates the DMA-backed buffer object, and a tail\nthat sets up the fbdev data structures. There is a tail function for\ndirect memory mappings and a tail function for deferred I/O with\nthe shadow buffer.\n\nIt is no longer possible to use deferred I/O without shadow buffer.\nIt can be re-added if there exists a reliably test for usable struct\npage in the allocated DMA-backed buffer object."
    },
    {
      "lang": "es",
      "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: drm/fbdev-dma: Se ha añadido un búfer de sombra para E/S diferida. Las áreas de DMA no están necesariamente respaldadas por struct page, por lo que no podemos confiar en él para la E/S diferida. Se asigna un búfer de sombra a los controladores que requieren E/S diferida y se utiliza como memoria de framebuffer. Se corrigen los errores del controlador \"No se puede gestionar la desreferencia de puntero nulo del kernel en la dirección virtual\" o \"No se puede gestionar la solicitud de paginación del kernel en la dirección virtual\". El parche divide drm_fbdev_dma_driver_fbdev_probe() en una asignación inicial, que crea el objeto de búfer respaldado por DMA, y una cola, que configura las estructuras de datos fbdev. Hay una función de cola para asignaciones directas de memoria y otra para E/S diferida con el búfer de sombra. Ya no es posible utilizar la E/S diferida sin el búfer de sombra. Se puede volver a agregar si existe una prueba confiable de una página de estructura utilizable en el objeto de búfer respaldado por DMA asignado."
    }
  ],
  "metrics": {},
  "references": [
    {
      "url": "https://git.kernel.org/stable/c/0d087de947babf7ed70029d042abcc6ed06ff415",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/3603996432997f7c88da37a97062a46cda01ac9d",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/cdc581169942de3b9e2648cfbd98c5ff9111c2c8",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    }
  ]
}