{
  "id": "CVE-2024-57809",
  "sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
  "published": "2025-01-11T14:15:25.080",
  "lastModified": "2025-01-11T14:15:25.080",
  "vulnStatus": "Awaiting Analysis",
  "cveTags": [],
  "descriptions": [
    {
      "lang": "en",
      "value": "In the Linux kernel, the following vulnerability has been resolved:\n\nPCI: imx6: Fix suspend/resume support on i.MX6QDL\n\nThe suspend/resume functionality is currently broken on the i.MX6QDL\nplatform, as documented in the NXP errata (ERR005723):\n\n  https://www.nxp.com/docs/en/errata/IMX6DQCE.pdf\n\nThis patch addresses the issue by sharing most of the suspend/resume\nsequences used by other i.MX devices, while avoiding modifications to\ncritical registers that disrupt the PCIe functionality. It targets the\nsame problem as the following downstream commit:\n\n  https://github.com/nxp-imx/linux-imx/commit/4e92355e1f79d225ea842511fcfd42b343b32995\n\nUnlike the downstream commit, this patch also resets the connected PCIe\ndevice if possible. Without this reset, certain drivers, such as ath10k\nor iwlwifi, will crash on resume. The device reset is also done by the\ndriver on other i.MX platforms, making this patch consistent with\nexisting practices.\n\nUpon resuming, the kernel will hang and display an error. Here's an\nexample of the error encountered with the ath10k driver:\n\n  ath10k_pci 0000:01:00.0: Unable to change power state from D3hot to D0, device inaccessible\n  Unhandled fault: imprecise external abort (0x1406) at 0x0106f944\n\nWithout this patch, suspend/resume will fail on i.MX6QDL devices if a\nPCIe device is connected.\n\n[kwilczynski: commit log, added tag for stable releases]"
    },
    {
      "lang": "es",
      "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: PCI: imx6: Se corrige la compatibilidad con suspender/reanudar en i.MX6QDL La funcionalidad de suspender/reanudar actualmente está rota en la plataforma i.MX6QDL, como se documenta en la errata de NXP (ERR005723): https://www.nxp.com/docs/en/errata/IMX6DQCE.pdf Este parche soluciona el problema al compartir la mayoría de las secuencias de suspensión/reanudación utilizadas por otros dispositivos i.MX, al tiempo que evita las modificaciones en los registros críticos que interrumpen la funcionalidad PCIe. Apunta al mismo problema que la siguiente confirmación descendente: https://github.com/nxp-imx/linux-imx/commit/4e92355e1f79d225ea842511fcfd42b343b32995 A diferencia de la confirmación descendente, este parche también restablece el dispositivo PCIe conectado si es posible. Sin este reinicio, ciertos controladores, como ath10k o iwlwifi, se bloquearán al reanudar. El reinicio del dispositivo también lo realiza el controlador en otras plataformas i.MX, lo que hace que este parche sea coherente con las prácticas existentes. Al reanudar, el núcleo se bloqueará y mostrará un error. Aquí hay un ejemplo del error encontrado con el controlador ath10k: ath10k_pci 0000:01:00.0: Unable to change power state from D3hot to D0, device inaccessible Unhandled fault: imprecise external abort (0x1406) at 0x0106f944 Sin este parche, la suspensión/reinicio fallará en los dispositivos i.MX6QDL si hay un dispositivo PCIe conectado. [kwilczynski: registro de confirmaciones, etiqueta agregada para versiones estables]"
    }
  ],
  "metrics": {},
  "references": [
    {
      "url": "https://git.kernel.org/stable/c/0a726f542d7c8cc0f9c5ed7df5a4bd4b59ac21b3",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/ac43ea3d27a8f9beadf3af66c9ea4a566ebfff1f",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    }
  ]
}