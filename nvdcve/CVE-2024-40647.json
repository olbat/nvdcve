{
  "id": "CVE-2024-40647",
  "sourceIdentifier": "security-advisories@github.com",
  "published": "2024-07-18T17:15:05.193",
  "lastModified": "2024-11-21T09:31:25.587",
  "vulnStatus": "Awaiting Analysis",
  "cveTags": [

  ],
  "descriptions": [
    {
      "lang": "en",
      "value": "sentry-sdk is the official Python SDK for Sentry.io. A bug in Sentry's Python SDK < 2.8.0 allows the environment variables to be passed to subprocesses despite the `env={}` setting. In Python's `subprocess` calls, all environment variables are passed to subprocesses by default. However, if you specifically do not want them to be passed to subprocesses, you may use `env` argument in `subprocess` calls. Due to the bug in Sentry SDK, with the Stdlib integration enabled (which is enabled by default), this expectation is not fulfilled, and all environment variables are being passed to subprocesses instead. The issue has been patched in pull request #3251 and is included in sentry-sdk==2.8.0. We strongly recommend upgrading to the latest SDK version. However, if it's not possible, and if passing environment variables to child processes poses a security risk for you, you can disable all default integrations.\n"
    },
    {
      "lang": "es",
      "value": "sentry-sdk es el SDK oficial de Python para Sentry.io. Un error en el SDK de Python de Sentry &lt; 2.8.0 permite que las variables de entorno se pasen a subprocesos a pesar de la configuración `env={}`. En las llamadas de `subproceso` de Python, todas las variables de entorno se pasan a subprocesos de forma predeterminada. Sin embargo, si específicamente no desea que se pasen a subprocesos, puede usar el argumento `env` en las llamadas de `subproceso`. Debido al error en Sentry SDK, con la integración Stdlib habilitada (que está habilitada de forma predeterminada), esta expectativa no se cumple y, en su lugar, todas las variables de entorno se pasan a subprocesos. El problema se solucionó en la solicitud de extracción n.° 3251 y se incluye en sentry-sdk==2.8.0. Recomendamos encarecidamente actualizar a la última versión del SDK. Sin embargo, si no es posible y si pasar variables de entorno a procesos secundarios representa un riesgo de seguridad para usted, puede desactivar todas las integraciones predeterminadas."
    }
  ],
  "metrics": {
    "cvssMetricV31": [
      {
        "source": "security-advisories@github.com",
        "type": "Secondary",
        "cvssData": {
          "version": "3.1",
          "vectorString": "CVSS:3.1/AV:L/AC:H/PR:H/UI:N/S:C/C:H/I:N/A:N",
          "baseScore": 5.3,
          "baseSeverity": "MEDIUM",
          "attackVector": "LOCAL",
          "attackComplexity": "HIGH",
          "privilegesRequired": "HIGH",
          "userInteraction": "NONE",
          "scope": "CHANGED",
          "confidentialityImpact": "HIGH",
          "integrityImpact": "NONE",
          "availabilityImpact": "NONE"
        },
        "exploitabilityScore": 0.8,
        "impactScore": 4.0
      }
    ]
  },
  "weaknesses": [
    {
      "source": "security-advisories@github.com",
      "type": "Secondary",
      "description": [
        {
          "lang": "en",
          "value": "CWE-200"
        }
      ]
    }
  ],
  "references": [
    {
      "url": "https://docs.python.org/3/library/subprocess.html",
      "source": "security-advisories@github.com"
    },
    {
      "url": "https://docs.sentry.io/platforms/python/integrations/default-integrations",
      "source": "security-advisories@github.com"
    },
    {
      "url": "https://docs.sentry.io/platforms/python/integrations/default-integrations/#stdlib",
      "source": "security-advisories@github.com"
    },
    {
      "url": "https://github.com/getsentry/sentry-python/commit/763e40aa4cb57ecced467f48f78f335c87e9bdff",
      "source": "security-advisories@github.com"
    },
    {
      "url": "https://github.com/getsentry/sentry-python/pull/3251",
      "source": "security-advisories@github.com"
    },
    {
      "url": "https://github.com/getsentry/sentry-python/releases/tag/2.8.0",
      "source": "security-advisories@github.com"
    },
    {
      "url": "https://github.com/getsentry/sentry-python/security/advisories/GHSA-g92j-qhmh-64v2",
      "source": "security-advisories@github.com"
    },
    {
      "url": "https://docs.python.org/3/library/subprocess.html",
      "source": "af854a3a-2127-422b-91ae-364da2661108"
    },
    {
      "url": "https://docs.sentry.io/platforms/python/integrations/default-integrations",
      "source": "af854a3a-2127-422b-91ae-364da2661108"
    },
    {
      "url": "https://docs.sentry.io/platforms/python/integrations/default-integrations/#stdlib",
      "source": "af854a3a-2127-422b-91ae-364da2661108"
    },
    {
      "url": "https://github.com/getsentry/sentry-python/commit/763e40aa4cb57ecced467f48f78f335c87e9bdff",
      "source": "af854a3a-2127-422b-91ae-364da2661108"
    },
    {
      "url": "https://github.com/getsentry/sentry-python/pull/3251",
      "source": "af854a3a-2127-422b-91ae-364da2661108"
    },
    {
      "url": "https://github.com/getsentry/sentry-python/releases/tag/2.8.0",
      "source": "af854a3a-2127-422b-91ae-364da2661108"
    },
    {
      "url": "https://github.com/getsentry/sentry-python/security/advisories/GHSA-g92j-qhmh-64v2",
      "source": "af854a3a-2127-422b-91ae-364da2661108"
    }
  ]
}